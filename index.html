<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="utf-8"><title></title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" /><style media="screen">
:root{--text:#fff;--td-bg:#2C2F34;--td-br:#cdcdcd;--has-number:#66BB6A;--has-ntext:#fff;--not-null-bg:#4C4F57;--not-null-tx:#66BB6A;--error-bg:#F44336;--error-tx:#fff;--split-bg:#66BB6A;--input-bg: #fff;--input-focus-bg:#4C4F57;--input-focus-tx:#66BB6A;}
*{padding: 0;margin: 0;user-select: none;}body{background-color: #262B35;}.main{background-color: #191919;width: 600px;height: 600px;margin: 200px auto 0 auto;}table{margin:  auto;}input:focus{outline: none;background:var(--input-focus-bg) ;color:var(--input-focus-tx);transition: 0.2s;}.none{opacity: 0;}
td{border:1px solid var(--td-br);color:var(--text);background:var(--td-bg);padding: 10px 20px;margin:0;text-align: center;font-size: 25px;}#sudoku .l {margin:0;padding:0;}input{height:60px;width:60px;border:0 none;text-align:center;font-size: 25px;background-color:var(--input-bg);}
.notnull{background:var(--not-null-bg);color:var(--not-null-tx);transition: 0.2s;}.spliter{border: none;background: var(--split-bg);width:1px!important;padding: 2px;}.hasnumber{background:var(--has-number) !important;color:var(--has-ntext)!important;transition: 0.4s;}
.score{position: absolute;top:200px;left:1270px;font-size: 40px;color:#fff;text-align: center;}.done{color:#66BB6A;}.score h2{text-align: center;}.left{color:#fff;padding: 1px 35px 1px 35px;background-color: #EF5350;}
.right{color:#EF5350;padding: 1px 35px 1px 35px;background-color: #fff;overflow: hidden;}.right-icon{padding: 1px 25px 1px 25px;background-color: #fff;}.completed{text-decoration: line-through;color:#fff;background-color: #000;}.btn{border: none;background: none;width:150px;height: 50px;color:#fff;font-size: 25px;transition: 0.325s;}.btn:hover{transform: scale(1.1);filter: brightness(1.2);}button:focus{outline: none;}
#clearinput{position: absolute;left:500px;top:270px;background-color: #26C6DA;}#reload{position: absolute;left:500px;background-color: #3F51B5;top:200px;}#showhint{position: absolute;left:500px;background-color: #D32F2F;top:340px;}
.win{position: absolute;top:0;z-index: 10;background-color: red;width: 100vw;height: 100vh;}.winner{font-size: 120px;color:#fff;position: absolute;top: 50%;left: 50%;margin-right: -50%;transform: translate(-50%, -50%);width: 500px;}
.winner span{float: left;display: none;}.error input{color: var(--error-tx)!important;background-color: var(--error-bg)!important;}</style></head><body><div class="main"><br><table id="sudoku" cellspacing="0" ><script type="text/javascript">
var field = '0681594327597283416342671589934157268278936145156842973729318654813465792465729831',arr = Array(1,2,3,4,5,6,7,8,9),game_field=[];for (var j=0;j<9;j++) arr.push(arr.splice((Math.random() * arr.length), 1));
for (var i=1;i<82;i++) {if (i%9==1) {document.write('<tr>');}document.write( (Math.random()*10>5) ? '<td  id=f'+i+'>'+arr[field.substr(i,1)-1] + '</td>' : '<td class="l " id=f'+i+'><input type="text" size="1" value="" maxlength="2" ></td>' );if(i%3==0 && i%9!=0){document.write('<td class=spliter></td>');}game_field.push(parseInt(arr[field.substr(i,1)-1].toString()));
if (i%9==0) {document.write('</tr>');}if(i%27==0 && i!=81){document.write('<tr>');for (var k = 0; k < 11; k++) {document.write('<td class=spliter></td>');}document.write('</tr>');}}</script></table><div class="score"></div>
<button type="button" class="btn" id="clearinput" name="button">CLEAR <span><i class="fas fa-broom"></i></span> </button><button type="button" id="reload" class="btn" name="button">RELOAD <span><i class="fas fa-sync-alt"></i></span> </button><button type="button" id="showhint" class="btn" name="button">HINT <span id="eye"><i class="fas fa-eye-slash"></i></span> </button></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/underscore@1.13.1/underscore-umd-min.js"></script><script type="text/javascript">
$(document).ready(function () {$('input').bind('change keyup input click', function () {if (this.value.match(/[^0-9]/g)) {this.value = '';}else if (this.value>9 && this.value!='' || this.value<1 && this.value!='') {this.value=(this.value%10!=0 ? this.value%10 : 1);}});});class Game{constructor(arr) {this.field=arr;this.real_field=[];}
check_field(){let arr=[];this.real_field=[];for (var i = 1; i < 82; i++) {this.real_field.push(  parseInt( document.getElementById('f'+i).children[0]==undefined ? document.getElementById('f'+i).innerHTML : document.getElementById('f'+i).children[0].value )   );}if (_.isEqual(this.field, this.real_field)) {this.on_win();return;}this.show_info();}
show_info(){let array=[0,0,0,0,0,0,0,0,0];for (var i=0;i<81;i++) {array[this.real_field[i]-1]++;}let html="";for (var i = 0; i < array.length; i++) {html+="<div><span class='left "+(array[i]>=9 ? "completed":"")+"'>"+(i+1)+"</span>:"+(array[i]>=9 ? '<span class=right-icon><i class="done fas fa-check"></i>' : '<span class=right>'+array[i]) +"</span></div>";}$('.score').html(html);}
on_win(){let code='<div class="win"><div class="winner"><span>W</span><span>I</span><span>N</span><span>N</span><span>E</span><span>R</span></div></div>';$('body').append(code);animate_win();$('#sudoku').css('pointer-events','none');}
show_false(){this.check_field();let false_array=[];for (var i = 0; i < 81; i++) {if(this.field[i]!=this.real_field[i] && !valueIsNaN(this.real_field[i])){false_array.push(i);}}show_false_final(false_array);}}function valueIsNaN(v) { return v !== v; }
function addhint(number) {$('td').each(function(){if ($(this).html()==number ) {$(this).not(".splitter").addClass('hasnumber');}else if ( $(this).children().val()==number){$(this).children().addClass('hasnumber');}});}function clearhint(){$('td').each(function(){$(this).removeClass('hasnumber ');$(this).children().removeClass('hasnumber ');});}
function clearfalse(vis){if(vis){$('td').each(function(){$(this).removeClass('error');$(this).children().removeClass('error');});eye.innerHTML='<i class="fas fa-eye-slash"></i>';}else{game.show_false();eye.innerHTML='<i class="fas fa-eye"></i>';}return !vis;}function clear_input(){$('input').each(function(){$(this).val('').removeClass('notnull');});}
function animate_win(){$('.winner span:eq(0)').animate({width: "toggle"}, 300, function(){$(this).next().animate({width: "toggle"}, 300, arguments.callee);});setTimeout(function (){$('.win').fadeOut(500);}, 3000);}
function show_false_final(false_array){var j=0;for (var i = 0; i < false_array.length; i++) {$('#f'+(false_array[i]+1)).addClass('error');}}let visibility_errors=false,game =new Game(game_field);game.check_field();
$("td> input").keyup(function(){if(visibility_errors){visibility_errors=clearfalse(visibility_errors);}game.check_field();$('input').each(function(){if($(this).val().length>0){$(this).addClass('notnull');}else{$(this).removeClass('notnull');}});});
$("td> input").focusin(function(){let number=$(this).val();if(number=='') {return;}addhint(number);}).keyup(function(){clearhint();let number=$(this).val();if(number=='') {return};addhint(number);}).focusout(function(){clearhint();});
$('#clearinput').click(function(){clear_input();if(visibility_errors){visibility_errors=clearfalse(visibility_errors);}game.check_field();});$('#reload').click(function(){document.location.reload();});$('#showhint').click(function(){visibility_errors=clearfalse(visibility_errors);});</script></body></html>
